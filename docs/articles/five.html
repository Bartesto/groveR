<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dealing With Cloud • groveR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Dealing With Cloud">
<meta property="og:description" content="groveR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">groveR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Bartesto/groveR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="five_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Dealing With Cloud</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Bartesto/groveR/blob/master/vignettes/five.Rmd"><code>vignettes/five.Rmd</code></a></small>
      <div class="hidden name"><code>five.Rmd</code></div>

    </div>

    
    
<p><img src="plots/tree_logo_small.png"></p>
<div id="purpose" class="section level2">
<h2 class="hasAnchor">
<a href="#purpose" class="anchor"></a>Purpose</h2>
<p>Clouds are the bane of remote sensing studies. They obscure the reflectance values of the endmembers we are interested in and if not dealt with will skew results. Clouds should have been masked out of the index rasters and depending on the method or software, either a shape file or raster mask would have been used.</p>
<p>Null or NA values are left in the place of clouds post masking. In the Mangrove Monitoring program at DBCA we encode these places with a value (-99) that differentiates it from other masked areas. That way we can report on areas “lost”<br>
to reporting or classify these areas based on the likelihood they haven’t changed since the previous time step.</p>
</div>
<div id="use-the-cloud_mask-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#use-the-cloud_mask-functions" class="anchor"></a>Use the cloud_mask() functions</h2>
<p>In <code>groveR</code> there are functions that take the masks used to originally mask out cloud (must be raster masks) and redefine those areas with a -99 value. There is a “bulk” version that can take a whole directory of raster inputs and apply the masks based on year. There is also a “select” version that allows for re-doing or updating one or a selection of years.</p>
<p>Cloud raster masks should be stored in <code>raster_masks/cloud_masks/</code> and must have the year they apply to in their name. See internal data example.</p>
<p>To run the “bulk” version:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Assign the parameters</span>
<span class="va">irast</span> <span class="op">&lt;-</span> <span class="st">"./veg_dens_mskd_for_trends"</span>
<span class="va">rastkey</span> <span class="op">&lt;-</span> <span class="st">".img"</span>
<span class="va">imask</span> <span class="op">&lt;-</span> <span class="st">"./raster_masks/cloud_masks"</span>
<span class="va">maskkey</span> <span class="op">&lt;-</span> <span class="st">".img"</span>

<span class="co"># Run the function</span>
<span class="fu"><a href="../reference/cloud_mask_bulk.html">cloud_mask_bulk</a></span><span class="op">(</span><span class="va">irast</span>, <span class="va">rastkey</span>, <span class="va">imask</span>, <span class="va">maskkey</span><span class="op">)</span></code></pre></div>
<ul>
<li>
<strong>irast</strong> - file path to input veg density rasters that have been masked “generally”.</li>
<li>
<strong>rastkey</strong> - wildcard to ensure correct file extension is parsed.</li>
<li>
<strong>imask</strong> - file path to input cloud mask rasters.</li>
<li>
<strong>maskkey</strong> - wildcard to ensure correct file extension is parsed.</li>
</ul>
<p>To run the “select” version:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Assign the parameters</span>
<span class="va">irast</span> <span class="op">&lt;-</span> <span class="st">"./veg_dens_mskd_for_trends"</span>
<span class="va">rastkey</span> <span class="op">&lt;-</span> <span class="st">".img"</span>
<span class="va">choice</span> <span class="op">&lt;-</span> <span class="fl">2006</span>
<span class="va">imask</span> <span class="op">&lt;-</span> <span class="st">"./raster_masks/cloud_masks"</span>
<span class="va">maskkey</span> <span class="op">&lt;-</span> <span class="st">".img"</span>

<span class="co"># Run the function</span>
<span class="fu"><a href="../reference/cloud_mask_select.html">cloud_mask_select</a></span><span class="op">(</span><span class="va">irast</span>, <span class="va">rastkey</span>, <span class="va">choice</span>, <span class="va">imask</span>, <span class="va">maskkey</span><span class="op">)</span></code></pre></div>
<p>The only new parameter is:</p>
<ul>
<li>
<strong>choice</strong> - numeric representing one or a selection of years e.g. c(2006, 2008)</li>
</ul>
</div>
<div id="whats-going-to-happen" class="section level2">
<h2 class="hasAnchor">
<a href="#whats-going-to-happen" class="anchor"></a>What’s going to happen?</h2>
<p>A new directory will be created, <code>veg_dens_mskd_for_class/</code> and the cloud encoded<br>
vegetation density rasters will be written to it. These will be the inputs for other functions.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Bart Huntley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
