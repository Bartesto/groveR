<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>A function to apply cloud masks to one or a selection of rasters. — cloud_mask_select • groveR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="A function to apply cloud masks to one or a selection of rasters. — cloud_mask_select"><meta property="og:description" content="cloud_mask_select takes multiple input rasters and applies
    pre-generated masks to exclude areas or clean up rasters in selected
    input rasters only."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">groveR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Bartesto/groveR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A function to apply cloud masks to one or a selection of rasters.</h1>
    <small class="dont-index">Source: <a href="https://github.com/Bartesto/groveR/blob/HEAD/R/main.R" class="external-link"><code>R/main.R</code></a></small>
    <div class="hidden name"><code>cloud_mask_select.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>cloud_mask_select</code> takes multiple input rasters and applies
    pre-generated masks to exclude areas or clean up rasters in selected
    input rasters only.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cloud_mask_select</span><span class="op">(</span><span class="va">irast</span>, <span class="va">rastkey</span>, <span class="va">choice</span>, <span class="va">imask</span>, <span class="va">maskkey</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>irast</dt>
<dd><p>Character file path to directory of input rasters, most commonly,
those created by <code>link{mask_product}</code> and stored at
`veg_dens_mskd/`.</p></dd>


<dt>rastkey</dt>
<dd><p>Character representation of unique string to match the intended
rasters. This aids in not selecting additional files generated by other
software (e.g. ArcMap).</p></dd>


<dt>choice</dt>
<dd><p>A character vector of year/s to mask.</p></dd>


<dt>imask</dt>
<dd><p>Character file path to directory of cloud raster masks to
apply. Commonly something like "raster_masks/cloud_masks/".</p></dd>


<dt>maskkey</dt>
<dd><p>Character representation of the file extension of the raster
masks.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Any cloud masking will carried out to affected input rasters and
    these will be written to `veg_dens_mskd_cld/`. cloud masked
    areas will have a -99 value.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The "cloud_mask" form of functions, apply a pre-generated mask to
    a single raster. These masks are often for things like cloud and shadow
    but could include something like a fire scar that could throw out the
    calibration to vegetation density. These circumstances are pertinent to
    one time step only, so the masks used here will be matched to the correct
    input by a year in the file name.</p>
<p>This function is designed to sort through a complete time series of input
    rasters and apply masks to only those selected.</p>
<p>The function will compare any newly masked rasters to the raster of
    the year before in order to clean up masked areas that might extend over
    water for example. Masked areas in the product have a value of -99 and
    this step ensures that previously "NA" masked areas don't now have a -99
    value.</p>
<p>Masking of the very first input raster of a time series is handled without
    this step as there is no prior image to compare to. Any input raster with
    no requirement for masking is renamed and copied to the output directory.</p>
<p>It is vital that all input rasters and masks have the same extents, CRS
    and cell size.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Bart Huntley, <a href="mailto:bart.huntley@dbca.wa.gov.au">bart.huntley@dbca.wa.gov.au</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">cloud_mask_select</span><span class="op">(</span>irast <span class="op">=</span> <span class="st">"./veg_dens_mskd"</span>, rastkey <span class="op">=</span> <span class="st">".tif"</span>,</span></span>
<span class="r-in"><span>    imask <span class="op">=</span> <span class="st">"Z:/DEC/projectXX/processing/raster_masks/cloud_masks"</span>,</span></span>
<span class="r-in"><span>    maskkey <span class="op">=</span> <span class="st">".ers"</span>, choice <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2011"</span>, <span class="st">"2015"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Bart Huntley.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer></div>

  


  

  </body></html>

